{% extends 'base.html' %}
{% load static %}
{% block content %}

<!-- Include Bootstrap CSS and Bootstrap Icons -->

<style>
    .content-section {
        display: none;
        /* Hide all sections by default */
    }

    .content-section.active {
        display: block;
        /* Show only the active section */
    }

    .navbar-custom {
        background-color: #f4f4f4;
        /* Light grey background */
        border-right: 1px solid #ddd;
        /* Light border */
        height: 100vh;
        /* Full height */
    }

    .navbar-custom .nav-link {
        color: #333;
        /* Darker text color */
    }

    .navbar-custom .nav-link.active,
    .navbar-custom .nav-link:hover {
        background-color: #e9ecef;
        /* Light grey background on hover */
        color: #007bff;
        /* Primary color on hover */
    }

    .navbar-custom .user-icon {
        background-color: #007bff;
        /* Primary color */
        color: white;
        width: 50px;
        height: 50px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        border-radius: 50%;
    }

    .navbar-custom .user-title {
        font-size: 1.25rem;
        font-weight: bold;
        margin-left: 10px;
    }

    .navbar-custom .nav-link i {
        margin-right: 8px;
    }

    .content-area {
        padding: 20px;
        background-color: #f9f9f9;
    }

    .content-area h1 {
        border-bottom: 2px solid #007bff;
        /* Underline with primary color */
        padding-bottom: 10px;
        margin-bottom: 20px;
        font-size: 2rem;
    }

    .content-area p {
        font-size: 1.1rem;
        line-height: 1.6;
    }
</style>

<div class="container-fluid">
    <div class="row">
        <!-- Main Content Area -->
        <div class="col-md-9 col-12 content-area">

            <div id="offices" class="content-section active">
                <h1>Offices</h1>





                <p class="card-title">Information about office locations.</p>
                <table id="datatables" class="text-center table table-striped">
                    <thead>
                        <tr>
                            <th>Sr.No</th>
                            <th>Office Name</th>
                            <th>Office Code</th>
                            <th>Location</th>
                            <th>Date Of Establish</th>
                            <th>CEO</th>
                            <th>Staf</th>
                            <th>Remark</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for office in Office %}
                        <tr>
                            <td>{{ forloop.counter }}</td> <!-- Serial Number -->
                            <td>{{ office.office_name }}</td>
                            <td>{{ office.office_code }}</td>
                            <td>{{ office.location }}</td>
                            <td>{{ office.date_of_establishment }}</td>
                            <td>{{ office.ceo }}</td>
                            <td>{{ office.staff_count }}</td>
                            <td>{{ office.remark }}</td>
                        </tr>
                        {% endfor %}

                    </tbody>
                </table>

                <!-- Button trigger modal -->
                <div class="container text-center">
                    <button type="button" class="btn btn-outline-success" data-bs-toggle="modal"
                        data-bs-target="#exampleModal">
                        Add New Office
                    </button>
                </div>

                <!-- Modal -->
                <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h1 class="modal-title fs-5" id="exampleModalLabel">New Office Details</h1>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <form action="/Main/AddOffice/" method="post" class="container">
                                    {% csrf_token %}
                                    <div class="row g-2">
                                        <div class="col-md-6">
                                            <label for="office_name" class="form-label">Office Name</label>
                                            <input type="text" class="form-control" id="office_name" name="office_name"
                                                required>
                                        </div>
                                        <div class="col-md-6">
                                            <label for="office_code" class="form-label">Office Code</label>
                                            <input type="text" class="form-control" id="office_code" name="office_code"
                                                required>
                                        </div>
                                        <div class="col-md-6">
                                            <label for="location" class="form-label">Location</label>
                                            <input type="text" class="form-control" id="location" name="location"
                                                required>
                                        </div>
                                        <div class="col-md-6">
                                            <label for="date_of_establishment" class="form-label">Date Of
                                                Establishment</label>
                                            <input type="date" class="form-control" id="date_of_establishment"
                                                name="date_of_establishment" required>
                                        </div>
                                        <div class="col-md-6">
                                            <label for="ceo" class="form-label">CEO</label>
                                            <input type="text" class="form-control" id="ceo" name="ceo" required>
                                        </div>
                                        <div class="col-md-6">
                                            <label for="staff_count" class="form-label">Staff Count</label>
                                            <input type="number" class="form-control" id="staff_count"
                                                name="staff_count" required>
                                        </div>
                                        <div class="col-md-12">
                                            <label for="remark" class="form-label">Remark</label>
                                            <textarea class="form-control" id="remark" name="remark"
                                                rows="2"></textarea>
                                        </div>
                                    </div>
                                    <div class="row mt-3">
                                        <div class="col-md-12 text-end">
                                            <button type="submit" class="btn btn-primary">Submit</button>
                                        </div>
                                    </div>
                                </form>

                            </div>
                        </div>
                    </div>
                </div>

            </div>



















            <div id="departments" class="content-section">
                <h1>Departments</h1>
                <p>Information about departments.</p>

                <table id="datatables1" class="text-center table table-striped">
                    <thead>
                        <tr>
                            <th>Sr.No</th>
                            <th>Department</th>
                            <th>Date</th>

                        </tr>
                    </thead>
                    <tbody>

                        {% for Department in Departments %}
                        <tr>
                            <td>{{ forloop.counter }}</td> <!-- Serial Number -->
                            <td>{{ Department.department_name }}</td>
                            <td>{{ Department.date }}</td>
                        </tr>
                        {% endfor %}

                    </tbody>
                </table>
                <div class="container text-center">
                    <button type="button" class="btn btn-outline-success" data-bs-toggle="modal"
                        data-bs-target="#DepartmentModal">
                        Add New Department
                    </button>
                </div>

                <!-- Modal -->
                <div class="modal fade" id="DepartmentModal" tabindex="-1" aria-labelledby="DepartmentModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h1 class="modal-title fs-5" id="DepartmentModalLabel">New Department Details</h1>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <form action="/Main/AddDepartment/" method="post" class="container">
                                    {% csrf_token %}
                                    <div class="row g-2">
                                        <div class="col-md-12">
                                            <label for="department_name" class="form-label">Department Name</label>
                                            <input type="text" class="form-control" id="department_name"
                                                name="department_name" required>
                                        </div>
                                    </div>
                                    <div class="row mt-3">
                                        <div class="col-md-12 text-end">
                                            <button type="submit" class="btn btn-primary">Submit</button>
                                        </div>
                                    </div>
                                </form>


                            </div>
                        </div>
                    </div>
                </div>
            </div>



            <div id="roles" class="content-section">
                <h1>Roles</h1>
                <p>Details of various roles within the organization.</p>
                <table id="datatables2" class="text-center table table-striped">
                    <thead>
                        <tr>
                            <th>Sr.No</th>
                            <th>Role</th>
                            <th>Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for Role in Roles %}
                        <tr>
                            <td>{{ forloop.counter }}</td> <!-- Serial Number -->
                            <td>{{ Role.role_name }}</td>
                            <td>{{ Role.date }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
                <div class="container text-center">
                    <button type="button" class="btn btn-outline-success" data-bs-toggle="modal"
                        data-bs-target="#RoleModal">
                        Add New Role
                    </button>
                </div>

                <!-- Modal -->
                <div class="modal fade" id="RoleModal" tabindex="-1" aria-labelledby="RoleModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h1 class="modal-title fs-5" id="RoleModalLabel">New Role Details</h1>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <form action="/Main/AddRoles/" method="post" class="container">
                                    {% csrf_token %}
                                    <div class="row g-2">
                                        <div class="col-md-12">
                                            <label for="department_name" class="form-label">Role Name</label>
                                            <input type="text" class="form-control" id="department_name"
                                                name="role_name" required>
                                        </div>
                                    </div>
                                    <div class="row mt-3">
                                        <div class="col-md-12 text-end">
                                            <button type="submit" class="btn btn-primary">Submit</button>
                                        </div>
                                    </div>
                                </form>


                            </div>
                        </div>
                    </div>
                </div>
            </div>

























            <div id="api-details" class="content-section">
                <h1>External API Details</h1>
                <p>Details about external APIs.</p>

                <table id="datatables3" class="text-center table table-striped">
                    <thead>
                        <tr>
                            <th>Sr.No</th>
                            <th>API KEY</th>
                            <th>Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>KEY</td>
                            <td>01:01:1001</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div id="deductions" class="content-section">
                <h1>Deduction Percentages</h1>
                <p>Information on deduction percentages.</p>
                <table id="datatables4" class="text-center table table-striped">
                    <thead>
                        <tr>
                            <th>Sr.No</th>
                            <th>Deduction</th>
                            <th>Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>10 %</td>
                            <td>01:01:1001</td>
                        </tr>
                    </tbody>
                </table>
            </div>


            <div id="about" class="content-section">
                <h1>About Company</h1>
                <p>Information about the company.</p>
            </div>
        </div>

        <!-- Sidebar Navigation -->
        <div class="col-md-3 col-12 navbar-custom d-none d-md-block">
            <div class="d-flex align-items-center mb-4 p-3">
                <div class="user-icon">
                    <i class="bi bi-person"></i>
                </div>
                <span class="user-title">Hiring Manager</span>
            </div>
            <div class="nav flex-column">
                <a class="nav-link" href="#" data-target="#offices"><i class="bi bi-geo-alt"></i> Offices</a>
                <a class="nav-link" href="#" data-target="#departments"><i class="bi bi-building"></i> Departments</a>
                <a class="nav-link" href="#" data-target="#roles"><i class="bi bi-person-workspace"></i> Roles</a>
                <a class="nav-link" href="#" data-target="#api-details"><i class="bi bi-code-slash"></i> External API
                    Details</a>
                <a class="nav-link" href="#" data-target="#deductions"><i class="bi bi-percent"></i> Deduction
                    Percentages</a>
                <a class="nav-link" href="#" data-target="#about"><i class="bi bi-info-circle"></i> About Company</a>
            </div>
        </div>

        <!-- Mobile Sidebar Toggle Button -->
        <div class="d-md-none w-100 text-center mb-3">
            <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#mobileNavbar"
                aria-expanded="false" aria-controls="mobileNavbar">
                <i class="bi bi-list"></i> Menu
            </button>
        </div>

        <!-- Mobile Sidebar Navigation -->
        <div class="collapse d-md-none" id="mobileNavbar">
            <div class="bg-light p-3">
                <div class="d-flex align-items-center mb-3">
                    <div class="user-icon">
                        <i class="bi bi-person"></i>
                    </div>
                    <span class="user-title">Hiring Manager</span>
                </div>
                <div class="nav flex-column">
                    <a class="nav-link" href="#" data-target="#offices"><i class="bi bi-geo-alt"></i> Offices</a>
                    <a class="nav-link" href="#" data-target="#departments"><i class="bi bi-building"></i>
                        Departments</a>
                    <a class="nav-link" href="#" data-target="#roles"><i class="bi bi-person-workspace"></i> Roles</a>
                    <a class="nav-link" href="#" data-target="#api-details"><i class="bi bi-code-slash"></i> External
                        API Details</a>
                    <a class="nav-link" href="#" data-target="#deductions"><i class="bi bi-percent"></i> Deduction
                        Percentages</a>
                    <a class="nav-link" href="#" data-target="#about"><i class="bi bi-info-circle"></i> About
                        Company</a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Include Bootstrap JS and dependencies -->

<script>
    document.querySelectorAll('.nav-link').forEach(link => {
        link.addEventListener('click', function (e) {
            e.preventDefault();
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            document.querySelector(this.getAttribute('data-target')).classList.add('active');
        });
    });
    document.addEventListener('DOMContentLoaded', function () {
    // Check if a tab was previously selected and saved in local storage
    const activeTab = localStorage.getItem('activeTab');
    if (activeTab) {
        document.querySelectorAll('.content-section').forEach(section => {
            section.classList.remove('active');
        });
        document.querySelector(activeTab).classList.add('active');
    }

    document.querySelectorAll('.nav-link').forEach(link => {
        link.addEventListener('click', function (e) {
            e.preventDefault();
            const target = this.getAttribute('data-target');

            // Show the clicked tab's content
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            document.querySelector(target).classList.add('active');

            // Save the currently active tab in local storage
            localStorage.setItem('activeTab', target);
        });
    });
});

</script>

{% endblock %}